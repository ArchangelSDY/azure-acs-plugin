<!--
  ~ Copyright (c) Microsoft Corporation. All rights reserved.
  ~ Licensed under the MIT License. See License.txt in the project root for
  ~ license information.
  -->

<div>
    <p>
        The path on the DC/OS cluster agent nodes to store the docker credentials archive <code>docker.tar.gz</code>.
        Only absolute path is allowed here. Environment variable substitution is enabled for the path input. <i>Due to
        the limitation in the underlying Mesos fetcher used by Marathon, special characters that need URI escaping
        and the character set {single quote ('), back slash (\), nul (\0)}, are not allowed in the path, otherwise
        it will fail to load the resource before running the container.</i>
    </p>
    <p>
        If not specified, the plugin will generate a path specific for the build with the following pattern.
    </p>
    <pre><code>
/home/&lt;linuxAdminUser&gt;/acs-plugin-dcos.docker/&lt;unique-name-generated-for-the-build&gt;</code></pre>
    <p>
        The plugin will generate the docker credentials archive with the credentials provided, and upload the archive
        to the given path for all the agents. You can use it to construct the URI used in your Marathon application
        definition.
    </p>
    <pre><code>
"uris":  [
    "file://&lt;filled-path&gt;/docker.tar.gz"
]</code></pre>
    <p>
        The URI will be exposed with the environment variable <code>$MARATHON_DOCKER_CFG_ARCHIVE_URI</code>. You can
        use this in your Marathon application definition when the "Enable Variable Substitution in Config" option
        is enabled. This helps when the upload path is not filled and generated by the build, or if the path changes
        frequently.
    </p>
    <p>
        Note that if an archive exists in the target path already, the build will overwrite that file.
    </p>
    <p>
        Reference:
        <a href="https://mesosphere.github.io/marathon/docs/native-docker-private-registry.html"
           target="_blank" title="Using a Private Docker Registry">
            Marathon: Using a Private Docker Registry
        </a>
    </p>
</div>
